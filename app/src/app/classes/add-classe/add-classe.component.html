<div class="container-header">
  <label>Ajouter une classe</label>
  <label>(étape 1 sur 2)</label>
</div>


<div *ngIf="alert.show" class="alert alert-{{alert.type}} alert-dismissible fade show" style="margin: 25px;" role="alert">
  {{alert.message}}
</div>
<form #formClasse>
  <div class="form" >
    <div class="first-section">
      <div class="row-form">
        <label style="display: block"> Libellé : </label>
        <input type="text" class="form-control" placeholder="MBDS" [(ngModel)]="classe.name" name="name" />
      </div>
      <div class="row-form">
        <label style="display: block"> Promo : </label>
        <input type="text" class="form-control" placeholder="2020/2021" [(ngModel)]="classe.promo" name="promo" mask="0000/0000" />
      </div>

    </div>

    <div class="last-section">
      <div class="file-label">
      <label >List d'etudiants :</label>
      </div>
      <div *ngIf="fileEtudiants == null" class="dropzone" appDnd (fileDropped)="onFileDropped($event)">
        <input type="file" #fileDropRef id="fileDropRef" (change)="fileBrowseHandler($event.target.files)" accept=".csv"/>
        <svg xmlns="http://www.w3.org/2000/svg" width="63" height="64" viewBox="0 0 63 64">
          <g fill="#3B454F" fill-rule="nonzero">
            <path
              d="M42.656 15.135a1.953 1.953 0 0 1-1.391-.578L31.5 4.795l-9.765 9.762a1.97 1.97 0 1 1-2.785-2.785L30.106.616a1.97 1.97 0 0 1 2.785 0l11.157 11.156a1.97 1.97 0 0 1-1.392 3.363z" />
            <path
              d="M31.5 36.791a1.97 1.97 0 0 1-1.969-1.969V2.01a1.97 1.97 0 0 1 3.938 0v32.812a1.97 1.97 0 0 1-1.969 1.969z" />
            <path
              d="M55.781 63.041H7.22A7.225 7.225 0 0 1 0 55.822V41.385a4.599 4.599 0 0 1 4.594-4.594h7.234a4.567 4.567 0 0 1 4.402 3.276l2.814 9.382a.658.658 0 0 0 .628.467h23.656a.658.658 0 0 0 .628-.467l2.814-9.385a4.572 4.572 0 0 1 4.402-3.273h7.234A4.599 4.599 0 0 1 63 41.385v14.437a7.225 7.225 0 0 1-7.219 7.219zM4.594 40.729a.656.656 0 0 0-.657.656v14.437a3.286 3.286 0 0 0 3.282 3.282H55.78a3.286 3.286 0 0 0 3.282-3.282V41.385a.656.656 0 0 0-.657-.656h-7.234a.65.65 0 0 0-.628.467L47.73 50.58a4.628 4.628 0 0 1-4.402 3.274H19.672a4.567 4.567 0 0 1-4.402-3.276l-2.814-9.382a.65.65 0 0 0-.628-.467H4.594z" />
          </g>
        </svg>
        <h3>Glisser-déposer un fichier csv ici</h3>
        <h3 style="font-weight: normal !important;">Ou</h3>
        <label for="fileDropRef" id="fileLabel">Rechercher un fichier</label>
      </div>

      <div *ngIf="fileEtudiants != null" class="dropzoneSucces">
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px" y="0px" viewBox="0 0 512 512"  width="63" height="64" style="enable-background:new 0 0 512 512;" xml:space="preserve">
          <g fill="#3B454F" fill-rule="nonzero">
            <g>
              <path d="M437.333,128H330.667c-5.888,0-10.667-4.8-10.667-10.667V10.667C320,4.779,315.221,0,309.333,0H96
                      C78.357,0,64,14.357,64,32v448c0,17.643,14.357,32,32,32h320c17.643,0,32-14.357,32-32V138.667
                      C448,132.779,443.221,128,437.333,128z M426.667,480c0,5.867-4.779,10.667-10.667,10.667H96c-5.888,0-10.667-4.8-10.667-10.667V32
                      c0-5.867,4.779-10.667,10.667-10.667h202.667v96c0,17.643,14.357,32,32,32h96V480z" />
            </g>
          </g>
          <g fill="#3B454F" fill-rule="nonzero">
            <g>
              <path
                d="M444.864,131.136l-128-128c-4.16-4.16-10.923-4.16-15.083,0c-4.16,4.16-4.16,10.923,0,15.083l128,128
                c2.091,2.069,4.821,3.115,7.552,3.115c2.731,0,5.461-1.045,7.531-3.115C449.024,142.059,449.024,135.296,444.864,131.136z" />
            </g>
          </g>
        </svg>

        <h3>{{fileEtudiants.name}}</h3>

        <label id="deleteFile" (click)="deleteFile()">Supprimer le fichier</label>
      </div>
    </div>
  </div>
  <div>
    <button style="margin: auto; display: block;" type="button" (click) = "onSubmit()" class="btn btn-success">Ajouter</button>
  </div>
</form>
